# ğŸ” é »é“åˆ†æå·¥å…·ä»‹ç´¹

DEMO ç¶²ç«™é€£çµï¼š
ğŸ‘‰ https://vtuber-channel-analyzer-v3.web.app/

æœ¬å°ˆæ¡ˆæ˜¯ä¸€å€‹é‡å° YouTube é »é“å½±ç‰‡å…§å®¹é€²è¡Œåˆ†é¡èˆ‡çµ±è¨ˆåˆ†æçš„è¦–è¦ºåŒ–ç¶²ç«™ã€‚
ç›®æ¨™æ˜¯å”åŠ©å‰µä½œè€…æˆ–è§€çœ¾å¿«é€ŸæŒæ¡é »é“å…§å®¹çš„åˆ†ä½ˆæ¦‚æ³ï¼ŒåŒ…æ‹¬ï¼š

### ğŸ”¹ æ”¯æ´åŠŸèƒ½äº®é»ï¼š

- ğŸ¥ **ä¾å½±ç‰‡é¡å‹åˆ†é¡**ï¼šæ”¯æ´ç›´æ’­ã€ä¸€èˆ¬å½±ç‰‡ã€Shorts åˆ‡æ›åˆ†æ
- ğŸ“ˆ **ä¸»åˆ†é¡çµ±è¨ˆåœ–è¡¨**ï¼šä»¥ã€ŒéŠæˆ²ã€ã€ã€Œé›œè«‡ã€ã€ã€Œç¯€ç›®ã€ã€ã€ŒéŸ³æ¨‚ã€ç­‰åˆ†é¡è¨ˆç®—å½±ç‰‡æ•¸èˆ‡ç¸½æ™‚é•·
- ğŸ§® **åˆ†é¡åˆ†å¸ƒåœ–è¡¨**ï¼šç”¨ç”œç”œåœˆåœ–å‘ˆç¾å½±ç‰‡çš„æ•¸é‡æ¯”ä¾‹èˆ‡æ™‚é–“ä½”æ¯”
- ğŸ“‹ **å½±ç‰‡æ¸…å–®ç¸½è¦½**ï¼šå¯æŸ¥é–±æ¯éƒ¨å½±ç‰‡çš„æ¨™é¡Œã€ä¸Šå‚³æ™‚é–“ã€åˆ†é¡çµæœèˆ‡å½±ç‰‡é•·åº¦
- ğŸš€ **é«˜æ•ˆèƒ½è¨­è¨ˆ**ï¼šé‡å°å¤§å‹é »é“åˆ†æä¹Ÿèƒ½æµæš¢ä½¿ç”¨ï¼Œé©åˆè‡ªå‹•åŒ–æ¨™ç±¤ç®¡ç†èˆ‡å…§å®¹è¶¨å‹¢è§€å¯Ÿ

---

## ğŸš€ ä¸€éµéƒ¨ç½²æŒ‡å—

æœ¬å°ˆæ¡ˆæä¾›å®Œæ•´è‡ªå‹•åŒ–éƒ¨ç½²æµç¨‹ï¼Œæ”¯æ´ staging èˆ‡ production é›™ç’°å¢ƒï¼Œä¸¦å…·å‚™ç‰ˆæœ¬è¨»è¨˜èˆ‡æ­·å²ç‰ˆæœ¬æ¸…ç†åŠŸèƒ½ã€‚

---

### ğŸ”§ å¾Œç«¯éƒ¨ç½²ï¼ˆGoogle Cloud Runï¼‰

è«‹å…ˆå»ºç«‹ `.env.local` æª”æ¡ˆæ–¼å°ˆæ¡ˆæ ¹ç›®éŒ„ï¼Œä¸¦å¡«å…¥å¿…è¦ç’°å¢ƒè®Šæ•¸ï¼š

```env
API_KEY=ä½ çš„APIé‡‘é‘°
INPUT_CHANNEL=é »é“IDæˆ–@å¸³è™Ÿ
...
```

è‹¥ç‚º production éƒ¨ç½²ï¼Œä¹Ÿè«‹å»ºç«‹ `.env.production` æª”æ¡ˆï¼Œè¦†è“‹æ­£å¼åƒæ•¸è¨­å®šã€‚

#### ğŸ“¦ è‡ªå‹•éƒ¨ç½²å¾Œç«¯æœå‹™

ä½¿ç”¨ `deploy_backend.sh` è‡ªå‹•å»ºæ§‹æ˜ åƒä¸¦éƒ¨ç½²è‡³ Cloud Runï¼š

```bash
cd backend
./deploy_backend.sh --staging   # éƒ¨ç½²è‡³ Staging
./deploy_backend.sh --prod      # éƒ¨ç½²è‡³ Production
```

åŠŸèƒ½åŒ…å«ï¼š

- è¼‰å…¥å°æ‡‰ç’°å¢ƒçš„ `.env` è¨­å®š
- å»ºç«‹ä¸¦ä¸Šå‚³ Docker æ˜ åƒè‡³ GCR
- å¯«å…¥ Git Commit Hash è‡³ `version.txt`
- åˆæ¬¡éƒ¨ç½²è‡ªå‹•å°æµï¼Œå¾ŒçºŒéƒ¨ç½²è‡ªå‹•åˆ‡æ›è‡³æœ€æ–° Ready ç‰ˆæœ¬

#### ğŸ” æ‰‹å‹•åˆ‡æ›æµé‡ç‰ˆæœ¬

åƒ…æƒ³åˆ‡æ›æµé‡è‡³æœ€æ–° Ready revision æ™‚ä½¿ç”¨ï¼š

```bash
./switch_to_latest_ready_revision.sh --staging
./switch_to_latest_ready_revision.sh --prod
```

ä¸æœƒé‡æ–°éƒ¨ç½²ï¼Œåªæ›´æ–° Cloud Run çš„å°æµè¨­å®šã€‚

#### ğŸ§¹ æ¸…ç†èˆŠç‰ˆæœ¬ Revisions

å»ºè­°å®šæœŸæ¸…ç† Cloud Run çš„æ­·å²ç‰ˆæœ¬ä»¥ç¯€çœè³‡æºï¼ˆä¿ç•™æœ€è¿‘ 10 ç­†ï¼‰ï¼š

```bash
./cleanup_old_revisions.sh --staging
./cleanup_old_revisions.sh --prod
```

---

### ğŸŒ å‰ç«¯éƒ¨ç½²ï¼ˆFirebase Hostingï¼‰

è«‹å…ˆå®‰è£ Firebase CLI ä¸¦åˆå§‹åŒ–å°ˆæ¡ˆï¼ˆå« `.firebaserc` èˆ‡ `firebase.json` è¨­å®šï¼‰ã€‚

#### ğŸ“¦ è‡ªå‹•éƒ¨ç½²å‰ç«¯ç¶²ç«™

ä½¿ç”¨ `deploy_frontend.sh` ä¸€éµæ‰“åŒ…ä¸¦éƒ¨ç½²ï¼š

```bash
cd frontend
./deploy_frontend.sh --staging   # éƒ¨ç½²è‡³ staging target
./deploy_frontend.sh --prod      # éƒ¨ç½²è‡³ production target
```

åŠŸèƒ½åŒ…å«ï¼š

- å–å¾— Git Commit Hash ä¸¦æ’å…¥ç‚º `<head>` è¨»è§£
- staging æ¨¡å¼æœƒå°‡ `<title>` é¡¯ç¤ºç‚ºã€ŒVTMap é »é“æ—…åœ– stagingã€
- åŸ·è¡Œ `npm run build --mode` æŒ‡ä»¤ç”¢å‡ºæ­£å¼ç‰ˆæœ¬
- ä½¿ç”¨ Firebase CLI éƒ¨ç½²è‡³å°æ‡‰ Hosting target
- æˆåŠŸå¾Œè‡ªå‹•é–‹å•Ÿå°æ‡‰çš„ç¶²ç«™ç¶²å€ï¼ˆæ”¯æ´ macOS / Linux / Git Bashï¼‰

---

[![Ask DeepWiki](https://deepwiki.com/badge.svg)](https://deepwiki.com/WasabiPingKak/youtube-channel-info-fetcher)