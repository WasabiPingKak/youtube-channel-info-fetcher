## ✅ 一、專案目標

建立一個互動式網站，用來視覺化顯示 Vtuber YouTube 頻道的影片分類統計與清單，支援使用者點選主題分類進入細分分析，並具備頻道個別設定與後台擴充機制。

---

## ✅ 二、使用者故事（User Stories）

- 我想看到這個頻道直播影片的主題佔比（例如：50%雜談、30%遊戲…）。
- 我點進「遊戲」後，希望看到是哪些遊戲出現最多（原神、Minecraft…）。
- 我想從圖表點選分類後，直接看到相關的影片清單（標題、時間、長度等）。
- 我希望每個頻道可以有自己的主題分類設定（每個 Vtuber 有自己風格）。
- 我希望能在後台修改分類設定或新增遊戲名稱。
- 我希望沒有被分類關鍵字標籤到的影片，能自動歸到「其他」。

---

## ✅ 三、資料架構與來源

### 🎬 影片資料格式（Firestore 儲存）
```json
{
  "id": "youtube_video_id",
  "title": "影片標題",
  "date": "2025-04-09T12:00:00Z",
  "type": "live",  // live, video, shorts
  "duration": 3600,
  "categories": [
    { "main": "遊戲", "sub": "原神" },
    { "main": "雜談" }
  ]
}
```

- ✅ 一部影片可以有多個主分類與次分類。

---

### 📁 頻道設定檔格式（channel_settings/{channel_id}）
```json
{
  "channel_id": "UCxxxxxxxxxx",
  "channel_name": "某某Vtuber",
  "classifications": {
    "live": {
      "雜談": ["雜談", "聊天", "閒聊"],
      "遊戲": ["遊戲", "Game"],
      "歌回": ["Karaoke", "唱歌"],
      "其他": []
    },
    "video": {
      "教學": ["教學", "攻略"],
      "精華": ["剪輯", "精華"],
      "其他": []
    },
    "shorts": {
      "趣味片段": ["迷因", "爆笑"],
      "其他": []
    }
  },
  "game_tags": {
    "原神": ["原神", "Genshin Impact"],
    "Minecraft": ["Minecraft", "麥塊"],
    "APEX": ["APEX", "Apex Legends"]
  }
}
```

- ✅ 每個分類一定要有「其他」欄位，作為預設歸納類別。
- ✅ `game_tags` 對應遊戲名稱與其關鍵字，支援後台新增。

---

## ✅ 四、網站功能模組

| 模組名稱 | 功能說明 |
|----------|----------|
| 📊 主分類統計圖表 | 各類型（直播、影片、Shorts）的主題佔比圖 |
| 📈 次分類圖表 | 點選主分類後，顯示細分類（如遊戲名稱） |
| 🔍 分類互動選擇器 | 可前進／返回分類層級、重設選擇 |
| 📋 影片清單 | 顯示符合目前分類條件的影片資訊（標題、長度、日期） |
| 🔁 分頁與排序 | 影片可依時間、長度排序與分頁 |
| 🛠️ 後台管理（未來擴充） | 編輯主題分類與遊戲關鍵字設定（可支援登入） |

---

## ✅ 五、畫面與網址路由設計

| 頁面 | 網址範例 |
|------|----------|
| 首頁（總覽） | `/` |
| 直播分類統計 | `/live` |
| 直播 → 遊戲分類 | `/live/games` |
| 直播 → 原神遊戲影片 | `/live/games/genshin` |
| 影片分類統計 | `/videos` |
| Shorts 分類統計 | `/shorts` |

---

## ✅ 六、系統行為與邏輯說明

1. 系統根據影片的 `type`（live、video、shorts）選擇分類設定。
2. 影片標題與頻道設定的關鍵字進行比對，判斷所屬主分類與次分類（如為遊戲類型）。
3. 若無任何分類標籤命中，影片自動歸類至「其他」分類。
4. 支援一部影片對應多個主分類（如同時為「遊戲」與「雜談」）。
5. 所有分類統計皆為「加總計算」方式。

---

## ✅ 七、技術與工具建議

| 工具／技術 | 用途 |
|------------|------|
| React + TypeScript | 建構網站互動與畫面 |
| Tailwind CSS | 控制畫面排版與樣式 |
| Recharts 或 ECharts | 顯示統計用的圖表（圓餅圖、柱狀圖） |
| Firebase Firestore | 資料來源（影片、分類設定） |
| Firebase Hosting | 網站部署（靜態網頁） |

---

## ✅ 八、目前系統狀況

- 資料量：約 100 部影片（後續可擴充）。
- 後端已完成分類邏輯與資料儲存。
- 前端即將進行模組化開發，每次設計一個小區塊，部署測試後再進行下一步。

---

## ✅ 九、未來擴充方向（建議）
- 🧠 使用者登入後管理自己的頻道設定

