<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>åˆ†é¡æ¨™ç±¤ç·¨è¼¯å™¨ v3.4 Mock (æ•´åˆç‰ˆ)</title>
  <style>
    :root {
      --primary: #007bff;
      --gray-0: #f5f7fa;
      --gray-1: #e1e7ed;
      --gray-2: #ccd4dd;
      --gray-3: #8892a0;
      --card-bg: #ffffff;
      --tag-bg: #d8eaff;
      --orange: #ffa76b;
    }

    /* ===== Reset ===== */
    *, *::before, *::after { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: "Noto Sans TC", Arial, sans-serif;
      background: var(--gray-0);
      color: #222;
    }
    button {
      cursor: pointer;
      border: none;
      border-radius: 8px;
      padding: 8px 16px;
      font-size: 14px;
    }
    .btn-primary   { background: var(--primary); color:#fff; }
    .btn-secondary { background: var(--gray-1); color:#222; }

    /* ===== Layout ===== */
    .container {
      max-width: 1280px;
      margin: 0 auto;
      padding: 24px 20px 60px;
    }
    header {
      display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;
    }
    .channel-info { display:flex;align-items:center;gap:12px; }
    .channel-info img { width:48px;height:48px;border-radius:50%; }
    .tabs button { margin-right:8px;background:var(--gray-1); }

    /* ===== Tag Suggestions ===== */
    .tag-section{display:flex;gap:24px;margin-bottom:20px;}
    .tag-group{flex:1;}
    .tag-title{font-weight:bold;margin-bottom:6px;font-size:15px;}
    .tag{display:inline-block;background:var(--tag-bg);border-radius:20px;padding:6px 12px 6px 18px;margin:4px;position:relative;font-size:13px;cursor:pointer;}
    .tag .remove{position:absolute;left:6px;top:50%;transform:translateY(-50%);font-weight:bold;cursor:pointer;}
    .tag.addable::before{content:"ï¼‹";position:absolute;left:6px;top:50%;transform:translateY(-50%);font-weight:bold;}

    /* ===== Twoâ€‘Column Lists ===== */
    .main{display:flex;gap:24px;}
    .list{flex:1;background:var(--card-bg);border-radius:12px;padding:16px;display:flex;flex-direction:column;min-height:450px;}
    .list-header{display:flex;align-items:center;gap:8px;margin-bottom:8px;font-size:14px;}
    .video-list{flex:1;overflow-y:auto;border:1px solid var(--gray-2);border-radius:8px;padding:0;}
    .video-card{display:flex;align-items:center;gap:8px;padding:6px 10px;border-bottom:1px solid var(--gray-1);font-size:14px;}
    .video-card:last-child{border-bottom:none;}
    .video-card .title{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
    .video-card .length{width:48px;text-align:right;color:var(--gray-3);}
    .badge{background:var(--gray-1);padding:2px 6px;border-radius:6px;font-size:12px;margin-left:4px;}

    .action-area{margin-top:12px;}
    .action-area button{width:100%;}

    /* Filter Tabs */
    .filter-tabs{margin-bottom:8px;}
    .filter-tabs button{background:var(--gray-1);color:#222;padding:4px 10px;margin-right:6px;}
    .filter-tabs .active{background:var(--primary);color:#fff;}

    /* ===== Tag Manager ===== */
    .tag-manager{margin-top:32px;background:var(--card-bg);padding:16px;border-radius:12px;}
    table{width:100%;border-collapse:collapse;font-size:14px;}
    th,td{border:1px solid var(--gray-2);padding:6px 8px;}
    th{background:var(--gray-1);}

    /* ===== Modal ===== */
    .modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.45);display:none;justify-content:center;align-items:center;z-index:1000;}
    .modal{background:#fff;border-radius:12px;padding:24px;min-width:260px;box-shadow:0 6px 20px rgba(0,0,0,.15);}
    .modal h4{margin-top:0;margin-bottom:12px;font-size:16px;}
    .cat-options label{display:block;margin-bottom:6px;}
    .game-select{margin-top:8px;width:100%;padding:6px;border:1px solid var(--gray-2);border-radius:6px;}
    .modal-actions{text-align:right;margin-top:16px;}
    .modal-actions button{margin-left:8px;}

  </style>
</head>
<body>
<div class="container">
  <!-- ========= Header ========= -->
  <header>
    <div class="channel-info">
      <img src="https://via.placeholder.com/48" alt="avatar"/>
      <strong>PingKak å±±è‘µå†°è§’</strong>
      <div class="tabs">
        <button class="btn-secondary">ç›´æ’­</button>
        <button class="btn-secondary">å½±ç‰‡</button>
        <button class="btn-secondary">Shorts</button>
      </div>
    </div>
    <button class="btn-secondary">å…¨éƒ¨å„²å­˜</button>
  </header>

  <!-- ========= Tag Suggestion Section ========= -->
  <div class="tag-section">
    <div class="tag-group">
      <div class="tag-title">ğŸ“ å·²åŠ å…¥</div>
      <span class="tag">éµè«‡é›œèŠ</span>
      <span class="tag">å¥èº«ç’°</span>
    </div>
    <div class="tag-group">
      <div class="tag-title">ğŸ” é«˜é »è© <small>(é» â• åŠ å…¥)</small></div>
      <span class="tag addable">ä¹æ—¥&nbsp;(17)</span>
      <span class="tag addable">æœªæ­¸é¡&nbsp;(7)</span>
    </div>
  </div>

  <!-- ========= Two Column Lists ========= -->
  <div class="main">
    <!-- Unclassified -->
    <div class="list" id="unclassifiedPanel">
      <div class="list-header">
        <input type="checkbox" id="chkAllUnclassified" />
        <label for="chkAllUnclassified">å…¨é¸ <span id="unclassifiedCount">(0)</span></label>
      </div>
      <div class="video-list" id="unclassifiedList"></div>
      <div class="action-area"><button class="btn-primary" id="applyBtn">å¥—ç”¨è‡³åˆ†é¡ â–¶</button></div>
    </div>

    <!-- Classified -->
    <div class="list" id="classifiedPanel">
      <div class="list-header">
        <input type="checkbox" id="chkAllClassified" />
        <label for="chkAllClassified">å…¨é¸ <span id="classifiedCount">(0)</span></label>
      </div>
      <div class="filter-tabs" id="filterTabs">
        <button data-cat="å…¨éƒ¨" class="active btn-secondary">å…¨éƒ¨</button>
        <button data-cat="é›œè«‡" class="btn-secondary">é›œè«‡</button>
        <button data-cat="ç¯€ç›®" class="btn-secondary">ç¯€ç›®</button>
        <button data-cat="éŸ³æ¨‚" class="btn-secondary">éŸ³æ¨‚</button>
        <button data-cat="éŠæˆ²" class="btn-secondary">éŠæˆ²</button>
        <button data-cat="å…¶ä»–" class="btn-secondary">å…¶ä»–</button>
      </div>
      <div class="video-list" id="classifiedList"></div>
      <div class="action-area"><button class="btn-secondary" id="restoreBtn">â—€ é‚„åŸè‡³æœªåˆ†é¡</button></div>
    </div>
  </div>

  <!-- ========= Game Tag Manager ========= -->
  <div class="tag-manager">
    <h3>ğŸ® éŠæˆ²æ¨™ç±¤ç®¡ç†å™¨</h3>
    <button class="btn-secondary" style="margin-bottom:10px;">ï¼‹ æ–°å¢éŠæˆ²</button>
    <table>
      <thead><tr><th>éŠæˆ²åç¨±</th><th>é—œéµå­—</th><th>æ“ä½œ</th></tr></thead>
      <tbody>
        <tr><td>åŸç¥</td><td>åŸç¥; genshin</td><td><button class="btn-secondary">ğŸ–‰</button> <button class="btn-secondary">ğŸ—‘</button></td></tr>
        <tr><td>Minecraft</td><td>mine; mc</td><td><button class="btn-secondary">ğŸ–‰</button> <button class="btn-secondary">ğŸ—‘</button></td></tr>
      </tbody>
    </table>
  </div>
</div>

<!-- ========= Category Apply Modal ========= -->
<div class="modal-backdrop" id="categoryModal">
  <div class="modal">
    <h4>å¥—ç”¨è‡³åˆ†é¡</h4>
    <div class="cat-options">
      <label><input type="checkbox" value="é›œè«‡"/> é›œè«‡</label>
      <label><input type="checkbox" value="ç¯€ç›®"/> ç¯€ç›®</label>
      <label><input type="checkbox" value="éŸ³æ¨‚"/> éŸ³æ¨‚</label>
      <label><input type="checkbox" id="chkGame" value="éŠæˆ²"/> éŠæˆ²</label>
      <select class="game-select" id="gameSelect" disabled>
        <option value="">â€” è«‹é¸æ“‡éŠæˆ² â€”</option>
        <option value="åŸç¥">åŸç¥</option>
        <option value="Minecraft">Minecraft</option>
      </select>
    </div>
    <div class="modal-actions">
      <button class="btn-secondary" id="cancelModal">å–æ¶ˆ</button>
      <button class="btn-primary" id="confirmModal">ç¢ºèªå¥—ç”¨</button>
    </div>
  </div>
</div>

<script>
/*************************************************
 *  Mini frontâ€‘end mock logic  (pure JS, no lib) *
 *************************************************/
const sampleVideos = [
  { id: 1, title: "ã€éµè«‡é›œèŠã€‘Pt.43 æ—¥å¸¸é‹å‹•", length: "12:34" },
  { id: 2, title: "ã€éµè«‡é›œèŠã€‘No.42 DEMO", length: "45:07" },
  { id: 3, title: "ã€å¥èº«ç’°ã€‘Pt.41", length: "8:45" }
];
let unclassifiedVideos = [...sampleVideos];
let classifiedVideos   = [];
let selectedIds        = [];

const unclassifiedList = document.getElementById('unclassifiedList');
const classifiedList   = document.getElementById('classifiedList');
const unclassifiedCnt  = document.getElementById('unclassifiedCount');
const classifiedCnt    = document.getElementById('classifiedCount');

function renderVideo(listEl, videos, withBadge=false){
  listEl.innerHTML='';
  videos.forEach(v=>{
    const row=document.createElement('div');
    row.className='video-card';
    row.dataset.id=v.id;
    row.innerHTML=`<input type="checkbox" class="row-check"/>\n      <span class="title">${v.title}</span>\n      <span class="length">${v.length}</span>\n      ${withBadge && v.cat?`<span class="badge">${v.cat}</span>`:''}`;
    listEl.appendChild(row);
  });
}
function refresh(){
  renderVideo(unclassifiedList,unclassifiedVideos);
  renderVideo(classifiedList,classifiedVideos,true);
  unclassifiedCnt.textContent=`(${unclassifiedVideos.length})`;
  classifiedCnt.textContent=`(${classifiedVideos.length})`;
}
refresh();

/* === Selectâ€‘all behaviour === */
function bindSelectAll(chkId,listEl){
  document.getElementById(chkId).addEventListener('change',e=>{
    listEl.querySelectorAll('.row-check').forEach(c=>c.checked=e.target.checked);
  });
}
bindSelectAll('chkAllUnclassified',unclassifiedList);
bindSelectAll('chkAllClassified',classifiedList);

/* === Modal show/hide === */
const modal   = document.getElementById('categoryModal');
const gameChk = document.getElementById('chkGame');
const gameSel = document.getElementById('gameSelect');

gameChk.addEventListener('change',()=>{
  gameSel.disabled = !gameChk.checked;
});

document.getElementById('applyBtn').addEventListener('click',()=>{
  const selected=[...unclassifiedList.querySelectorAll('.row-check')].filter(c=>c.checked);
  if(!selected.length) return;
  selectedIds = selected.map(c=>+c.closest('.video-card').dataset.id);
  modal.style.display='flex';
});

document.getElementById('cancelModal').addEventListener('click',()=>{
  modal.style.display='none';
  resetModal();
});

function resetModal(){
  modal.querySelectorAll('.cat-options input[type="checkbox"]').forEach(cb=>cb.checked=false);
  gameChk.checked=false;gameSel.disabled=true;gameSel.value='';
}

document.getElementById('confirmModal').addEventListener('click',()=>{
  const cats=[...modal.querySelectorAll('.cat-options input[type="checkbox"]')].filter(cb=>cb.checked).map(cb=>cb.value);
  const game=gameChk.checked && gameSel.value?gameSel.value:null;
  // simple demo: take first cat or game label
  const label=game||cats[0]||'å·²åˆ†é¡';
  const moved=unclassifiedVideos.filter(v=>selectedIds.includes(v.id)).map(v=>({...v,cat:label}));
  classifiedVideos=classifiedVideos.concat(moved);
  unclassifiedVideos=unclassifiedVideos.filter(v=>!selectedIds.includes(v.id));
  refresh();
  modal.style.display='none';
  resetModal();
});

/* === Restore === */
document.getElementById('restoreBtn').addEventListener('click',()=>{
  const selected=[...classifiedList.querySelectorAll('.row-check')].filter(c=>c.checked);
  if(!selected.length) return;
  const ids=selected.map(c=>+c.closest('.video-card').dataset.id);
  const moved=classifiedVideos.filter(v=>ids.includes(v.id));
  unclassifiedVideos=unclassifiedVideos.concat(moved.map(v=>{const {cat,...rest}=v;return rest;}));
  classifiedVideos=classifiedVideos.filter(v=>!ids.includes(v.id));
  refresh();
});

/* === Filter Tabs === */
document.getElementById('filterTabs').addEventListener('click',e=>{
  if(e.target.tagName!=='BUTTON')return;
  [...e.currentTarget.children].forEach(btn=>btn.classList.remove('active'));
  e.target.classList.add('active');
  const cat=e.target.dataset.cat;
  const filtered=cat==='å…¨éƒ¨'?classifiedVideos:classifiedVideos.filter(v=>v.cat===cat);
  renderVideo(classifiedList,filtered,true);
});
</script>
</body>
</html>
